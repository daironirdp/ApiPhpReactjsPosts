(this.webpackJsonpaprendiendo=this.webpackJsonpaprendiendo||[]).push([[0],{54:function(t,e,a){},63:function(t,e,a){"use strict";a.r(e);var r=a(1),s=a(0),i=a.n(s),n=a(29),o=a.n(n),c=a(12),d=a(13),l=a(7),u=a(15),p=a(14),h=a(10),w=a.n(h),b=(a(54),a(2)),j=a(16),m=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(t){var r;return Object(c.a)(this,a),(r=e.call(this,t)).state={toogleEditar:!1,tweetForm:""},r.cambiarEditar=r.cambiarEditar.bind(Object(l.a)(r)),r.set_TweetForm=r.set_TweetForm.bind(Object(l.a)(r)),r.guardar=r.guardar.bind(Object(l.a)(r)),r}return Object(d.a)(a,[{key:"set_TweetForm",value:function(t){var e=t.target.value;this.setState({tweetForm:e})}},{key:"guardar",value:function(t){var e=this;if(t.preventDefault(),this.state.tweetForm!==this.props.tweet){var a=new FormData;return a.append("id",this.props.id),a.append("tweet",this.state.tweetForm),w.a.post(this.props.apiUrl+"updatetweet.php",a).then((function(t){"success"===t.data.response?(e.props.updateTweets(e.props.id,e.state.tweetForm,t.data.result),e.setState({toogleEditar:!e.state.toogleEditar})):alert("Error: "+t.data.result)})).catch((function(t){return console.log(t)})),Object(r.jsx)(b.a,{to:"/"})}alert("son iguales")}},{key:"cambiarEditar",value:function(){this.setState({toogleEditar:!this.state.toogleEditar,tweetForm:this.state.toogleEditar?"":this.props.tweet})}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"tweet",children:[Object(r.jsx)("div",{style:{},children:Object(r.jsx)("p",{children:this.props.tweet})}),Object(r.jsxs)("div",{style:{marginLeft:"auto"},children:[" ",this.props.time]}),Object(r.jsx)("div",{style:{textAlign:"center",flex:"1 1 100%"},children:Object(r.jsxs)(j.a,{children:[Object(r.jsx)(j.b,{onClick:this.cambiarEditar,className:"botones",to:"/editar",children:"Editar"}),Object(r.jsx)(j.b,{className:"botones",to:"/eliminar",children:"Eliminar"}),Object(r.jsxs)(b.d,{children:[Object(r.jsx)(b.b,{path:"/eliminar",exact:!0,children:Object(r.jsx)(O,{id:this.props.id,apiUrl:this.props.apiUrl,eliminar:this.props.eliminar})}),Object(r.jsx)(b.b,{path:"/editar",exact:!0,children:Object(r.jsx)(g,{id:this.props.id,tweet:this.state.tweetForm,toogleEditar:this.state.toogleEditar,set_TweetForm:this.set_TweetForm,guardar:this.guardar})})]})]})})]})}}]),a}(s.Component),O=function(t){var e=new FormData;return e.append("id",t.id),w.a.post(t.apiUrl+"deletetweet.php",e).then((function(e){"success"===e.data.response?t.eliminar(t.id):alert("Error: "+e.data.result)})).catch((function(t){return console.log(t)})),Object(r.jsx)(b.a,{to:"/"})},g=function(t){return t.toogleEditar?Object(r.jsxs)("form",{action:"",className:"editar",children:[Object(r.jsx)("textarea",{placeholder:"Rewrite your tweet here",value:t.tweet,style:{width:"90%"},onChange:t.set_TweetForm}),Object(r.jsx)("button",{onClick:t.guardar,type:"submit",disabled:!(t.tweet.length>0),style:{float:"right"},children:"Guardar"})]}):Object(r.jsx)(b.a,{to:"/"})},x=m,f=function(t){return Object(r.jsx)("div",{id:"tweetList",children:!1!==t.tweets?t.tweets.map((function(e){return Object(r.jsx)("div",{className:"Singletweet",children:Object(r.jsx)(x,{id:e.id,tweet:e.tweet,time:e.time,apiUrl:t.apiUrl,eliminar:t.eliminar,updateTweets:t.updateTweets})},e.id)})):Object(r.jsx)("div",{children:"No hay Tweets disponibles por el momento"})})},v=function(t){return Object(r.jsx)("div",{style:{padding:"10px",background:"#4C9BE5",borderRadius:"5px",boxSizing:"border-box",overflow:"hidden"},children:Object(r.jsxs)("form",{onSubmit:t.postTweet,children:[Object(r.jsx)("textarea",{id:"text",name:"text",placeholder:"Write your tweet here",onChange:t.set_Tweet,style:{width:"100%"}}),Object(r.jsx)("button",{type:"submit",disabled:!(t.tweetForm.length>0),style:{float:"right"},children:"Post"})]})})},T=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(t){var r;return Object(c.a)(this,a),(r=e.call(this,t)).eliminar=function(t){var e=r.state.tweets.filter((function(e){return e.id!==t}));r.setState({tweets:e})},r.state={apiUrl:"http://localhost/ApiReactjsTwitterPosts/",tweets:[],tweet:""},r.postTweet=r.postTweet.bind(Object(l.a)(r)),r.set_Tweet=r.set_Tweet.bind(Object(l.a)(r)),r.cargarValores=r.cargarValores.bind(Object(l.a)(r)),r.eliminar=r.eliminar.bind(Object(l.a)(r)),r.updateTweets=r.updateTweets.bind(Object(l.a)(r)),r}return Object(d.a)(a,[{key:"updateTweets",value:function(t,e,a){var r=this.state.tweets.filter((function(e){return e.id!==t})),s={tweet:e,id:t,time:a};this.setState({tweets:r.concat(s)})}},{key:"set_Tweet",value:function(t){var e=t.target.value;this.setState({tweet:e})}},{key:"cargarValores",value:function(){var t=this;w.a.get(this.state.apiUrl+"gettweets.php").then((function(e){"success"===e.data.response&&t.setState({tweets:e.data.result})})).catch((function(t){return console.log(t)}))}},{key:"componentDidMount",value:function(){this.cargarValores()}},{key:"postTweet",value:function(t){var e=this;t.preventDefault();var a=t.target,r=new FormData;r.append("tweet",a.text.value),w.a.post(this.state.apiUrl+"posttweet.php",r).then((function(t){"success"===t.data.response?(e.setState({tweets:e.state.tweets.concat({id:t.data.result.id,tweet:a.text.value,time:t.data.date})}),a.reset()):alert("Error: "+t.data.result)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return Object(r.jsxs)("div",{style:{width:"400px",margin:"auto"},children:[Object(r.jsx)("h2",{children:"Twitter Feed"}),Object(r.jsx)(f,{tweets:this.state.tweets,apiUrl:this.state.apiUrl,eliminar:this.eliminar,updateTweets:this.updateTweets}),Object(r.jsx)(v,{tweetForm:this.state.tweet,postTweet:this.postTweet,set_Tweet:this.set_Tweet})]})}}]),a}(s.Component),y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(e){var a=e.getCLS,r=e.getFID,s=e.getFCP,i=e.getLCP,n=e.getTTFB;a(t),r(t),s(t),i(t),n(t)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(T,{})}),document.getElementById("root")),y()}},[[63,1,2]]]);
//# sourceMappingURL=main.1cb4bcb2.chunk.js.map